### 内核是什么
浏览器内核，也叫做渲染引擎，负责对网页语法的解释并渲染网页；
渲染引擎决定了浏览器如何显示网页内容信息以及页面格式信息；不同的浏览器内核对网页编写的语法解释也有所不同，因此同一网页在使用不同浏览器内核的浏览器中展示的效果也不相同，这就是我们做兼容性的原因。
因此，内核就是负责对代码进行解析执行并排版渲染的工作；

### 内核分类
IE浏览器使用的内核是 Trident
火狐浏览器使用的内核是 Gecko
Safari和Chrome使用的是webkit内核
  - webkit内核包含webCore排版引擎和JavaScriptCore解析引擎
  - Google Chrome在脚本理解方面使用的是自己研发的v8引擎

### webView是什么
webView是一个基于webkit的引擎，可以解析DOM元素，展示html页面。
手机系统上加载html文件需要用到webview引擎才可以展示。


### 小程序的内核
微信小程序的内核根据不同平台而不同
小程序采用双线程结构，分为逻辑层和视图层

视图层

* 在Android上，小程序的JavaScript是通过X5内核来解析，渲染层是使用X5浏览器内核
  - X5内核是腾讯基于Webkit进行深度优化的浏览器渲染引擎，手机QQ浏览器便是用的X5内核
* 在IOS上，小程序的JavaScript代码是运行在JavaScriptCore中，渲染层使用webView内核
* 在开发者工具上，小程序的JavaScript运行在Chrome内核中，渲染层使用Chrome webView内核


### 小程序生命周期
1. 小程序的底层架构是怎么样的？
小程序底层采用双线程结构，分为逻辑层和视图层，开发者的代码在逻辑层中运行；
webview预渲染，每次进入小程序时，除了当前页面，native预先额外加载一个webview，当打开别的页面时，用默认数据直接渲染，请求数据回来时局部更新；
2. 为什么要这样设计？这样设计的优缺点？
为了安全考虑，小程序为了追求原生般的体验，是把开发者的代码下载到本地执行，如果直接执行会存在安全隐患，所以把开发者的代码放在单独的线程执行；
传统web渲染方式，js会阻塞UI的渲染；双线程的设计使得小程序不会出现web端js阻塞页面渲染的情况；
双线程模型意味着视图层与逻辑层之间的通信是异步的，有延迟，不会像web中那样同步的更新视图；
3. 视图层和逻辑层如何通信？
利用响应式的数据绑定，视图层标签绑定事件，事件触发会通知逻辑层执行相关代码。逻辑成数据改变经过处理传递给视图层，视图层更新视图
4. 小程序和H5的区别？
小程序时双线程设计
两者渲染方式不同，小程序是native渲染，同时也支持web渲染
5. 小程序架构优化
不要频繁的去setData


参考文章
【小程序原理科普】https://zhuanlan.zhihu.com/p/142381013
【小程序渲染架构设计】https://juejin.cn/post/6844903811207659527#heading-5
【微信小程序运行流程】https://juejin.cn/post/6844903607175741453#heading-14

